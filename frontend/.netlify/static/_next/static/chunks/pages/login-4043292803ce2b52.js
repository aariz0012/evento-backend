(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(6052)}])},6052:function(e,s,r){"use strict";r.r(s);var t=r(1010),a=r(1309),n=r(7582),i=r(5893),l=r(7294),c=r(1163),o=r(1664),d=r.n(o),m=r(2175),u=r(6310),x=r(2920),h=r(6893),p=r(8120),f=r(2490);s.default=function(){var e,s=(0,a._)((0,l.useState)("user"),2),r=s[0],o=s[1],v=(0,p.aC)(),y=v.loginUser,g=v.loginHost,b=(0,c.useRouter)();b.query.from;var j=u.Ry().shape({email:u.Z_().email("Invalid email address").required("Email is required"),password:u.Z_().required("Password is required")}),N=(e=(0,t._)(function(e,s){var t,a,i,l,c,o,d;return(0,n.Jh)(this,function(n){switch(n.label){case 0:t=s.setSubmitting,a=s.setErrors,n.label=1;case 1:if(n.trys.push([1,6,7,8]),"user"!==r)return[3,3];return[4,y(e)];case 2:return n.sent().success&&(x.Am.success("Login successful!"),b.push("/dashboard")),[3,5];case 3:return[4,g(e)];case 4:n.sent().success&&(x.Am.success("Login successful!"),b.push("/host/dashboard")),n.label=5;case 5:return[3,8];case 6:return i=n.sent(),x.Am.error((null===(l=i.response)||void 0===l?void 0:null===(c=l.data)||void 0===c?void 0:c.error)||"Login failed. Please check your credentials."),a({submit:(null===(o=i.response)||void 0===o?void 0:null===(d=o.data)||void 0===d?void 0:d.error)||"Invalid credentials"}),[3,8];case 7:return t(!1),[7];case 8:return[2]}})}),function(s,r){return e.apply(this,arguments)});return(0,i.jsx)(f.Z,{title:"Login - EventO",children:(0,i.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,i.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:[(0,i.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 py-4 px-6",children:(0,i.jsx)("h1",{className:"text-2xl font-bold text-white text-center",children:"Log In to Your Account"})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex mb-6",children:[(0,i.jsx)("button",{className:"flex-1 py-2 text-center font-medium rounded-l-md ".concat("user"===r?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:function(){return o("user")},children:(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsx)(h.fzv,{className:"mr-2"})," User"]})}),(0,i.jsx)("button",{className:"flex-1 py-2 text-center font-medium rounded-r-md ".concat("host"===r?"bg-secondary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:function(){return o("host")},children:(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsx)(h.m6D,{className:"mr-2"})," Host"]})})]}),(0,i.jsx)(m.J9,{initialValues:{email:"",password:""},validationSchema:j,onSubmit:N,children:function(e){var s=e.isSubmitting,t=e.errors,a=e.touched;return(0,i.jsxs)(m.l0,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,i.jsx)(h.Imn,{className:"text-gray-400"})}),(0,i.jsx)(m.gN,{type:"email",name:"email",id:"email",className:"form-input pl-10 ".concat(t.email&&a.email?"border-red-500":""),placeholder:"Enter your email"})]}),(0,i.jsx)(m.Bc,{name:"email",component:"div",className:"form-error"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,i.jsx)(h.UIZ,{className:"text-gray-400"})}),(0,i.jsx)(m.gN,{type:"password",name:"password",id:"password",className:"form-input pl-10 ".concat(t.password&&a.password?"border-red-500":""),placeholder:"Enter your password"})]}),(0,i.jsx)(m.Bc,{name:"password",component:"div",className:"form-error"})]}),(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)(d(),{href:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-500",children:"Forgot password?"})}),t.submit&&(0,i.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:t.submit}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",disabled:s,className:"w-full py-3 flex justify-center ".concat("user"===r?"btn-primary":"btn-secondary"),children:s?"Logging in...":"Log In"})}),(0,i.jsx)("div",{className:"text-center mt-4",children:(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ","user"===r?(0,i.jsx)(d(),{href:"/register",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign Up"}):(0,i.jsx)(d(),{href:"/host/register",className:"text-secondary-600 hover:text-secondary-500 font-medium",children:"Register as Host"})]})})]})}})]})]})})})}}},function(e){e.O(0,[949,855,743,490,774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);